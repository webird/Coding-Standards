#数据库设计规范

##1 命名规范

   基本规范：
  
  * 命名只能由26个英文字母（区分大小写）、数字（0~9）及下划线组成，但不能以数字、下划线开头，不能出现其他字符。
   
  * 命名不得超过30个字符的系统限制；变量名的长度限制为29字符（不包括变量的标识字符@）。
   
  * 数据对象、变量的命名都采用英文字符，禁止使用中文命名。（绝对不要在对象名的字符间留空格！）
  
  * 命名不能与数据库的保留关键字发生冲突！（应先查看相应数据库的保留关键字）


###1.1 数据库命名

  * 正式数据库名由“小写”英文字母及下划线组成，应尽量说明是哪个应用系统在使用，例如：web_blog; sdk_analystics。
  
  * 备份数据库名使用正式库名加上备份时间组成，如：web_blog_20130705; sdk_analystics_20130728.

###1.2 表命名

  * 数据库表名由“小写”英文字母及下划线组成，下划线前后部分应具有一定的层次关系，含义与所使用系统名称相关。
  
  * 相关应用的数据表使用同一前缀，前缀名称一般不超过5字符，比如：sdk_user, sdk_group, super_userspace.
  
  * 备份数据表名使用正式表名加上备份时间组成，比如：sdk_users_20130718, sdk_group_20130725.

###1.3 字段命名

  * 字段名称使用单词组合完成，首字母小写，后面单词首字母大写，如sdk_user表的字段：userId,userName,userPassword.
  
  * 表与表之间的相关联字段要用统一名称，如sdk_user表的userId与sdk_group表里的userId相对应。
  

##2 字段类型规范

   几个基本原则：
  * 更小的通常更好：尽量使用可以正确存储数据的最小数据类型。
  
  * 简单就好：简单数据类型的操作通常需要更少的CPU周期。如整型比字符操作代价更低；存储日期时间应使用MySQL内建的类型
  （date,time,datetime）；应该用整型存储IP地址等。

  * 尽量避免 NULL：如果查询中包含可为null的列，对MySQL来说更难优化；可为null的列会使用更多的存储空间。

###2.1 整数类型

  * 整数类型：tinyint, smallint, mediumint, int, bigint，分别使用8，16，24，32，64位存储空间。
  
  * 有可选的unsigned属性，表示不允许负值。
  
  * MySQL可以为整数类型指定宽度，如int(11)，规定了一些交互工具用来显示字符的个数。
  但对与存储和计算来说，int(1)和int(20)是相同的。
     
###2.2 实数类型 
  
  * Float、double类型分别使用32、64位存储，支持使用标准的浮点运算进行近似计算。
  
  * Decimal类型用于存储精确的小数（尽量只在对小数进行精确计算时才使用）。
  
  * 浮点和decimal类型都可以指定精度。

###2.3 字符串类型

  * Varchar类型用于存储可变长字符串，适合使用于以下情况：
  
    （1）字符串列的最大长度比平均长度大很多；  
    （2）列的更新很少；  
    （3）使用了像UTF-8这样复杂的字符集，每个字符都使用不同的字节数进行存储。

  * Char类型是定长的，适合存储很短的字符串，或者所有值都接近同一个长度。
  
  * Binary和varbinary，存储二进制字符串，进行字符比较时速度更快。
  
  * Blob和text都是为存储很大的数据而设计的字符串数据类型，分别采用二进制和字符方式存储
  （查询时可能会导致严重的性能开销）。
  
  * 枚举（Enum）可以用来代替常用的字符串类型，把一些不重复的字符串存储成一个预定义的集合。
  由于枚举值保存为整数，应尽量避免使用数字作为 enum 枚举常量）。

###2.4 日期和时间类型

  * Datetime类型
  
  这个类型能保存大范围的值，从1001年到9999年，与时区无关，精度为秒，使用8个字节的存储空间。
  在MySQL中，默认显示格式为“yyyy-MM-dd HH:mm:ss”，如“2013-08-01 08:23:45”（ANSI标准定义的日期和时间表示方法）。

  * Timestamp类型
  
  与datetime类型相似，存储范围较小，只能表示1970年到2038年，显示的值依赖于时区，使用4个字节的存储空间，
  timestamp列默认为 not null，空间效率比datetime更高。

###2.5 位数据类型

  * Bit：可以使用Bit列在一列中存储一个或多个true/false值，位数在Bit()括号里指定，最大长度是64个位。
  MySQL把Bit当作字符串类型，而不是数字类型。
  
  * Set：在MySQL内部是以一系列打包的位的集合来表示的，可以有效地利用存储空间；但改变列的定义的代价较高。

```sql

  code here
  
```
---------------参考：《高性能MySQL》
